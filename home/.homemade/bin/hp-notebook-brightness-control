#! /usr/bin/env bash

# variables
usage="Usage:\t$0 [OPTION]\nOptions:\t\n\t-u\tBrightness up\n\t-d\tBrightness down"
current_b=$(cat /sys/class/backlight/radeon_bl0/actual_brightness | head -n 1)
max_b=$(cat /sys/class/backlight/radeon_bl0/max_brightness | head -n 1)
min_b=0
step=5

if [[ ! -n $1 ]]; then
    echo -e $usage
else
    if [[ $1 == -u ]]; then
        new_b=$(expr $current_b + $step)
        if !(($new_b > $max_b)); then
            echo -e '\nNew:\t'$new_b;
            echo $new_b > /sys/class/backlight/radeon_bl0/brightness
        fi;
    elif [[ $1 == -d ]]; then
        new_b=$(expr $current_b - $step)
        if !(($new_b < $min_b)); then
            echo -e '\nNew:\t'$new_b;
            echo $new_b > /sys/class/backlight/radeon_bl0/brightness
        fi;
    else
        echo -e $usage
    fi;
fi;
